<!DOCTYPE html>
<html lang="ko">
<head>
  <title>Hello</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="/css/main.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/main.css">
</head>
<style>


  #searchTable th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  #searchTable {
    width: 1500px;
    margin-top: 10px;
    border-collapse: collapse;
    margin-left: auto;
    margin-right: auto;
  }

  #searchTable th, td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
  }

  #searchTable th {
    background-color: #f2f2f2;
  }
  #pagination-container {
    display: flex;
    justify-content: center;
    margin-top: 103px;
  }


  .pagination-button {
    background-color: #95a5a6;
    color: white;
    border: 1px solid #95a5a6;
    padding: 8px 16px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    cursor: pointer;
    margin: 0 4px;
    border-radius: 4px;
  }

  .pagination-button:hover {
    background-color: #3498db;
  }

  .selected {
    background-color: #3498db;
  }
  input{
    height: 17px;
    border-radius: 9px;
  }
  #regiTable {

    text-align: center;
  }
  .regiDiv{
    padding-bottom:20px;
  }
  .companyNone{
    display:none;
  }
</style>
<body>
  <div class=e1_3>
    <div class=e1_573>
      <div class=e1_574>
      </div>
      <div class=e1_586>
        <div class="e1_587">
          <div class="e1_588 hoverable-div"><span class="e1_589"><a href="/main">Api 사용</a></span></div>
          <div class="e1_590 hoverable-div"><span class="e1_591"><a href="/paylist">결제 내역</a></span></div>
          <div class="e1_592 hoverable-div"><span class="e1_593"><a href="/memberlist">회원 등록/관리</a></span></div>
          <div class="e1_594 hoverable-div"><span class="e1_595"><a href="/accountlist">정산 시스템</a></span></div>
          <div class="e1_596 hoverable-div"><span class="e1_597"><a href="/develop">개발자센터</a></span></div>
        </div>
        <div class=e1_598>
          <div class=e1_599><span  class="e1_600">결제내역 확인</span></div>
          <div class=e1_601><span  class="e1_602"><a href="/login">로그인</a></span></div>
        </div>
      </div>
    </div>
    <div class=e1_10>
      <div class=e1_11>
        <div class="e1_12" style="background: white; border-top:1px solid black;">
          <div style="height: 690px;">
            <div style="height: 690px;">
              <div id="searchDiv" style="margin-bottom: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
                <h3 style="margin-bottom: 10px;">회원 목록 검색</h3>

                <div style="display: flex; flex-wrap: wrap;">
                  <div style="margin-right: 10px;">
                    <label for="userIdInput">사용자 ID:</label>
                    <input type="text" id="userIdInput" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;">
                  </div>
                  <div style="margin-right: 10px;">
                    <label for="userEmailInput">이메일:</label>
                    <input type="text" id="userEmailInput" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;">
                  </div>
                  <div style="margin-right: 10px;">
                    <label for="userRoleInput">사용자 역할:</label>
                    <input type="text" id="userRoleInput" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;">
                  </div>
                  <div style="margin-right: 10px;">
                    <label for="companyCodeInput">회사 코드:</label>
                    <input type="text" id="companyCodeInput" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;">
                  </div>
                  <div style="margin-right: 10px;">
                    <label for="joinDateInput">가입 날짜:</label>
                    <input type="text" id="joinDateInput" placeholder="YYYY-MM-DD" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;">
                  </div>

                  <!-- 검색 버튼 -->
                  <button onclick="searchUsers()" style="background-color: #3498db; color: white; padding: 7px 15px; border: none; border-radius: 5px; cursor: pointer;">검색</button>
                  <button onclick="$('#PopRegister').show();" style="background-color: #95a5a6; color: white; padding: 7px 15px; border: none; border-radius: 5px; cursor: pointer;">회원 가입</button>
                </div>
              </div>
            <table id="searchTable">
              <thead>
              <tr>
                <th>사용자 ID</th>
                <th>이메일</th>
                <th>사용자 이름</th>
                <th>회사 코드</th>
                <th>가입 날짜</th>
              </tr>
              </thead>
              <tbody id="userTableBody">
              <!-- 검색 결과가 여기에 동적으로 추가될 것입니다. -->
              </tbody>
            </table>
          </div>
          <div id="pagination-container">
            <!-- 페이징 버튼 등을 표시할 컨테이너 -->
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
<div id="PopRegister" style="position:absolute;width: 600px; height: 500px; border: 1px solid black; background: white; display:none;">
  <h4 style="text-align: center;padding-bottom: 29px;">회원 가입</h4>
  <div id="regiTable">
    <div class="regiDiv">이메일 : <input type="text" id="RegisterEmail" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;"></div>
    <div class="regiDiv companyNo">회사코드 : <input type="text" id="RegisterCompanyCode" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;"></div>
    <div class="regiDiv companyNone">회사명 : <input type="text" id="RegisterCompanyName" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;"></div>


    <div class="regiDiv">사용자명 : <input type="text" id="RegisterName" style="padding: 8px; border: 1px solid #ccc; border-radius: 5px;"></div>
    <div class="regiDiv">
      <button onclick="InsertUser()" style="background-color: #3498db; color: white; padding: 7px 15px; border: none; border-radius: 5px; cursor: pointer;">가입</button>
      <button onclick="$('#PopRegister').hide();" style="background-color: #95a5a6; color: white; padding: 7px 15px; border: none; border-radius: 5px; cursor: pointer;">취소</button>
    </div>
  </div>
</div>
</body>
</html>
<script>
  function searchUsers() {
    // 여기에 검색 기능을 구현하세요.
    // 검색 결과를 동적으로 업데이트하고, 페이징 기능을 구현하세요.
  }
  function InsertUser(){
// 보낼 데이터 객체


    // AJAX POST 요청
    $.ajax({
      type: 'POST',
      url: '/api/member/companyCheck', // 요청 보낼 URL
      contentType: 'application/json', // 데이터 타입
      data: document.getElementById('RegisterCompanyCode').value, // 데이터 전송
      success: function (response) {
        $("#RegisterCompanyName").val(response.message);
        $("#RegisterCompanyCode").css("border"," 1px solid #ccc");

        $(".companyNone").show();
      },
      error: function (error) {

        $("#RegisterCompanyCode").prop("placeholder", "미입력 회사 코드");
        $("#RegisterCompanyCode").val("");
        $("#RegisterCompanyName").val("");
        $(".companyNone").show();
        // 실패 시 실행되는 콜백 함수
        console.error('주문 처리 중 오류가 발생했습니다.');
        console.error('에러 내용:', error);
      }
    });


  }
</script>
